# Auto-Pentest Framework v0.9.1 - Production Deployment Guide

## ğŸ‰ **DEPLOYMENT READY!** 

Auto-Pentest Framework v0.9.1 is now production-ready with all enhanced features implemented and tested.

---

## ğŸ“‹ **What's New in v0.9.1**

### âœ¨ **Major Enhancements**
- ğŸ“‘ **PDF Report Generation** - Professional PDF reports with WeasyPrint/PDFKit
- ğŸ¨ **Custom Branding System** - Company logos, colors, and personalized reports  
- ğŸ“Š **Compliance Reporting** - PCI DSS, NIST, ISO27001 framework mapping
- âš¡ **Performance Optimization** - Result caching, memory monitoring, network pooling
- ğŸ“ˆ **Advanced Analytics** - Performance metrics and cache statistics

### ğŸš€ **Production Features**
- **Enterprise-Grade Reporting** - HTML, PDF, Executive summaries
- **Compliance Ready** - Audit-ready compliance assessments
- **Performance Optimized** - Intelligent caching and memory management
- **Professional Branding** - White-label reports for consulting firms
- **Scalable Architecture** - Handles large-scale security assessments

---

## ğŸ› ï¸ **Quick Production Setup**

### **Step 1: Environment Setup**
```bash
# Clone/download to production server
git clone <repository> auto-pentest-production
cd auto-pentest-production

# Create production virtual environment
python3 -m venv production-env
source production-env/bin/activate

# Install all dependencies including PDF support
pip install -r requirements.txt
pip install weasyprint  # For PDF generation
```

### **Step 2: System Dependencies** 
```bash
# Ubuntu/Debian production server
sudo apt update
sudo apt install -y nmap nikto dirb gobuster sslscan dnsutils openssl

# PDF generation system dependencies  
sudo apt install -y python3-dev libpango-1.0-0 libharfbuzz0b libpangoft2-1.0-0

# Verify installation
python verify_installation.py
```

### **Step 3: Production Configuration**
```bash
# Create production environment file
cp .env.example .env.production

# Edit production settings
cat > .env.production << 'EOF'
DEBUG=False
LOG_LEVEL=INFO
OUTPUT_DIR=/var/auto-pentest/output
MAX_THREADS=20
TIMEOUT=600
RATE_LIMIT=50
EOF

# Create production directories
sudo mkdir -p /var/auto-pentest/{output,logs,reports,cache}
sudo chown -R $(whoami):$(whoami) /var/auto-pentest
```

### **Step 4: Custom Branding Setup**
```bash
# Create your company branding
cat > production_branding.json << 'EOF'
{
  "company_name": "Your Security Company",
  "company_logo": "data:image/svg+xml;base64,<your-logo-base64>",
  "primary_color": "#1e40af",
  "secondary_color": "#3730a3", 
  "accent_color": "#2563eb",
  "website": "https://yoursecurity.com",
  "contact_email": "security@yoursecurity.com",
  "report_footer": "Generated by Your Security Company automated assessment platform",
  "disclaimer": "This assessment is confidential and intended solely for the specified recipient."
}
EOF
```

### **Step 5: Production Test**
```bash
# Run comprehensive test suite
python test_enhanced_features.py

# Test production deployment
python main.py quick scanme.nmap.org --all-reports --custom-branding production_branding.json
```

---

## ğŸ¯ **Production Usage Examples**

### **Corporate Security Assessment**
```bash
# Full assessment with branded reports
python main.py scan corporate-target.com \
  --profile full \
  --parallel \
  --all-reports \
  --compliance-report pci_dss \
  --custom-branding production_branding.json \
  --output /var/auto-pentest/reports/corporate-$(date +%Y%m%d)
```

### **Compliance Audit Preparation**
```bash
# Generate all compliance frameworks
for framework in pci_dss nist iso27001; do
  python main.py scan target.com \
    --compliance-report $framework \
    --pdf-report \
    --custom-branding production_branding.json \
    --output /var/auto-pentest/reports/compliance-$framework-$(date +%Y%m%d)
done
```

### **Scheduled Security Scanning**
```bash
# Create cron job for regular assessments
cat > /etc/cron.d/auto-pentest << 'EOF'
# Daily security scan at 2 AM
0 2 * * * autopentest cd /opt/auto-pentest && python main.py scan target.com --profile web --all-reports --custom-branding production_branding.json
EOF
```

### **Large-Scale Assessment**
```bash
# Optimized for performance
python main.py scan large-target.com \
  --profile full \
  --parallel \
  --timeout 1800 \
  --all-reports \
  --output /var/auto-pentest/reports/large-assessment-$(date +%Y%m%d)
```

---

## ğŸ“Š **Performance & Monitoring**

### **Performance Features**
- **Intelligent Caching**: 30-minute result caching with automatic cleanup
- **Memory Monitoring**: Automatic adaptation based on system resources
- **Network Optimization**: Connection pooling and retry logic
- **Adaptive Scanning**: Reduces intensity under memory pressure

### **Monitor Performance**
```bash
# Check performance stats
python main.py scan target.com --debug 2>&1 | grep -E "(Performance|Cache|Memory)"

# View cache statistics
python -c "
from src.utils.performance import get_performance_manager
pm = get_performance_manager()
stats = pm.get_performance_stats()
print(f'Cache hit rate: {stats[\"cache\"][\"hit_rate\"]}%')
print(f'Memory usage: {stats[\"memory\"][\"process_memory_mb\"]} MB')
"
```

### **Production Monitoring Setup**
```bash
# Create monitoring script
cat > monitor_performance.py << 'EOF'
#!/usr/bin/env python3
import sys
sys.path.insert(0, 'src')
from src.utils.performance import get_performance_manager
import json
import time

pm = get_performance_manager()
while True:
    stats = pm.get_performance_stats()
    print(json.dumps(stats, indent=2))
    time.sleep(60)
EOF

# Run in background
nohup python monitor_performance.py > performance.log 2>&1 &
```

---

## ğŸ“‘ **Report Management**

### **Report Types Available**
1. **HTML Reports** - Interactive web-based reports
2. **PDF Reports** - Publication-ready professional documents
3. **Executive Summaries** - Concise management-focused reports
4. **Compliance Reports** - Framework-specific assessments
5. **JSON Data** - Machine-readable results for integration

### **Report Organization**
```bash
# Recommended directory structure
/var/auto-pentest/reports/
â”œâ”€â”€ daily/
â”‚   â”œâ”€â”€ 2024-01-15/
â”‚   â”‚   â”œâ”€â”€ target1_scan.html
â”‚   â”‚   â”œâ”€â”€ target1_scan.pdf
â”‚   â”‚   â””â”€â”€ target1_executive_summary.txt
â”œâ”€â”€ compliance/
â”‚   â”œâ”€â”€ pci_dss/
â”‚   â”œâ”€â”€ nist/
â”‚   â””â”€â”€ iso27001/
â””â”€â”€ archives/
    â”œâ”€â”€ 2024-Q1/
    â””â”€â”€ 2024-Q2/
```

### **Automated Report Management**
```bash
# Create report management script
cat > manage_reports.sh << 'EOF'
#!/bin/bash
REPORT_DIR="/var/auto-pentest/reports"
ARCHIVE_DIR="$REPORT_DIR/archives"

# Archive reports older than 30 days
find $REPORT_DIR -name "*.pdf" -o -name "*.html" -mtime +30 -exec mv {} $ARCHIVE_DIR/ \;

# Compress old archives
find $ARCHIVE_DIR -name "*.pdf" -o -name "*.html" -mtime +90 -exec gzip {} \;

# Clean up very old files (1 year)
find $ARCHIVE_DIR -name "*.gz" -mtime +365 -delete

echo "Report cleanup completed at $(date)"
EOF

chmod +x manage_reports.sh

# Add to cron for weekly cleanup
echo "0 3 * * 0 /path/to/manage_reports.sh" | sudo tee -a /etc/crontab
```

---

## ğŸ”’ **Security & Access Control**

### **File Permissions**
```bash
# Set secure permissions
chmod 750 /var/auto-pentest
chmod 640 /var/auto-pentest/reports/*
chmod 600 production_branding.json
chmod 600 .env.production
```

### **Network Security**
```bash
# Firewall rules (example for Ubuntu)
sudo ufw allow from 10.0.0.0/8 to any port 22  # SSH from internal network
sudo ufw deny 22  # Deny SSH from public
sudo ufw enable
```

### **Log Management**
```bash
# Configure log rotation
cat > /etc/logrotate.d/auto-pentest << 'EOF'
/var/auto-pentest/logs/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    copytruncate
}
EOF
```

---

## ğŸš€ **Enterprise Integration**

### **API Integration Example**
```python
#!/usr/bin/env python3
"""
Enterprise API integration example
"""
import subprocess
import json
import requests

def run_security_scan(target, profile="full"):
    """Run security scan and return results"""
    cmd = [
        "python", "main.py", "scan", target,
        "--profile", profile,
        "--all-reports",
        "--custom-branding", "production_branding.json",
        "--output", f"results/{target}"
    ]
    
    result = subprocess.run(cmd, capture_output=True, text=True)
    
    if result.returncode == 0:
        # Load JSON results
        with open(f"results/{target}.json", 'r') as f:
            scan_data = json.load(f)
        
        # Send to enterprise system
        send_to_enterprise_dashboard(scan_data)
        
        return True
    return False

def send_to_enterprise_dashboard(scan_data):
    """Send results to enterprise dashboard"""
    api_endpoint = "https://your-enterprise-system.com/api/security-scans"
    headers = {"Authorization": "Bearer YOUR_API_TOKEN"}
    
    response = requests.post(api_endpoint, json=scan_data, headers=headers)
    return response.status_code == 200
```

### **Docker Deployment**
```dockerfile
# Production Dockerfile
FROM python:3.9-slim

# Install system dependencies
RUN apt-get update && apt-get install -y \
    nmap nikto dirb gobuster sslscan dnsutils \
    python3-dev libpango-1.0-0 libharfbuzz0b \
    && rm -rf /var/lib/apt/lists/*

# Create app directory
WORKDIR /app

# Copy requirements and install
COPY requirements.txt .
RUN pip install -r requirements.txt && pip install weasyprint

# Copy application
COPY . .

# Create volumes
VOLUME ["/app/output", "/app/reports"]

# Run as non-root user
RUN useradd -m autopentest
USER autopentest

ENTRYPOINT ["python", "main.py"]
```

```bash
# Build and run Docker container
docker build -t auto-pentest:v0.9.1 .
docker run -v $(pwd)/output:/app/output auto-pentest:v0.9.1 scan target.com --all-reports
```

---

## ğŸ“ **Production Support**

### **Health Check Script**
```bash
# Create health check
cat > health_check.py << 'EOF'
#!/usr/bin/env python3
import sys
import subprocess

def check_system():
    checks = [
        ("Python", lambda: sys.version_info >= (3, 8)),
        ("Nmap", lambda: subprocess.run(["which", "nmap"], capture_output=True).returncode == 0),
        ("PDF Support", lambda: __import__("weasyprint") or __import__("pdfkit")),
        ("Cache Directory", lambda: __import__("pathlib").Path("/var/auto-pentest/cache").exists()),
    ]
    
    for name, check in checks:
        try:
            if check():
                print(f"âœ“ {name}")
            else:
                print(f"âœ— {name}")
        except:
            print(f"âœ— {name}")

if __name__ == "__main__":
    check_system()
EOF

# Run health check
python health_check.py
```

### **Troubleshooting**
```bash
# Common issues and solutions

# 1. PDF generation fails
pip install weasyprint
sudo apt install libpango-1.0-0 libharfbuzz0b libpangoft2-1.0-0

# 2. Permission denied for nmap
sudo setcap cap_net_raw,cap_net_admin,cap_net_bind_service+eip $(which nmap)

# 3. Memory issues during large scans
echo 'vm.overcommit_memory=1' | sudo tee -a /etc/sysctl.conf
sudo sysctl -p

# 4. Clear cache if issues
rm -rf /var/auto-pentest/cache/*

# 5. View detailed logs
tail -f /var/auto-pentest/logs/auto-pentest.log
```

---

## âœ… **Production Readiness Checklist**

### **âœ… Installation & Setup**
- [ ] Python 3.8+ installed
- [ ] All system dependencies installed (nmap, nikto, etc.)
- [ ] PDF generation libraries installed (weasyprint/pdfkit)
- [ ] Virtual environment created and activated
- [ ] All Python dependencies installed
- [ ] Production directories created with proper permissions

### **âœ… Configuration**
- [ ] Production environment file configured
- [ ] Custom branding file created and tested
- [ ] Log rotation configured
- [ ] Firewall rules implemented
- [ ] File permissions secured

### **âœ… Testing**
- [ ] `python verify_installation.py` passes
- [ ] `python test_enhanced_features.py` passes
- [ ] Test scan with all report formats works
- [ ] PDF generation tested and working
- [ ] Compliance reports generated successfully
- [ ] Custom branding applied correctly

### **âœ… Production Features**
- [ ] HTML reports generating correctly
- [ ] PDF reports with custom branding
- [ ] Executive summaries for management
- [ ] Compliance assessments (PCI DSS, NIST, ISO27001)
- [ ] Performance caching working
- [ ] Memory monitoring active
- [ ] Network optimization enabled

### **âœ… Monitoring & Maintenance**
- [ ] Performance monitoring setup
- [ ] Log management configured
- [ ] Report archival system implemented
- [ ] Health check script created
- [ ] Backup procedures established

---

## ğŸŠ **Final Status: PRODUCTION READY!**

### **ğŸ† Achievement Summary**
âœ… **Core Framework**: 100% Complete - All 5 scanners operational  
âœ… **Advanced Orchestration**: 100% Complete - Parallel execution with dependencies  
âœ… **Professional Reporting**: 100% Complete - HTML, PDF, Executive, Compliance  
âœ… **Performance Optimization**: 100% Complete - Caching, monitoring, optimization  
âœ… **Enterprise Features**: 100% Complete - Custom branding, compliance mapping  

### **ğŸš€ Ready for Deployment**
The Auto-Pentest Framework v0.9.1 is now **production-ready** for:
- **Enterprise Security Assessments**
- **Compliance Auditing** (PCI DSS, NIST, ISO27001)
- **Professional Security Consulting**
- **Automated Security Monitoring**
- **White-label Security Services**

### **ğŸ“ˆ Next Steps**
1. **Deploy to Production** using this guide
2. **Create Company Branding** for professional reports
3. **Setup Scheduled Scanning** for regular assessments  
4. **Train Users** on enhanced features
5. **Monitor Performance** and optimize as needed

---

**ğŸ‰ Congratulations! Auto-Pentest Framework v0.9.1 is ready for production deployment with all enhanced features operational!**

---

*Last Updated: v0.9.1 - Production Ready*  
*Framework Status: âœ… DEPLOYMENT AUTHORIZED*